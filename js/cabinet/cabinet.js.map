{"version":3,"file":"cabinet.js","sources":["../../../src/ts/utils/settingsHtmlComponents.ts","../../../src/ts/pages/cabinet/local-components/setActiveListItem.ts","../../../src/ts/pages/cabinet/pageCabinet.ts","../../../src/ts/utils/checkAuth.ts","../../../src/ts/cabinet.ts"],"sourcesContent":["import { PAGE_CABINET } from './constants';\n\nexport function settingsHtmlComponents() {\n  const currentPath = window.location.pathname;\n\n  if (currentPath.includes(PAGE_CABINET)) {\n    const listCabinet = document.querySelector('.js-user-inner-list') as HTMLUListElement;\n    const btnExit = document.querySelector('.js-sidebar-btn-exit');\n    const btnEnter = document.querySelector('.js-sidebar-btn-enter');\n    const userNameItem = document.querySelector('.js-user-active-title') as HTMLElement;\n    const arrowDown = document.querySelector('.js-icon-arrow-down') as HTMLElement;\n    const userItem = document.querySelector('.header__user-item') as HTMLElement;\n    // local-refs---\n\n    btnExit?.classList.remove('sidebar__nav-item_hidden');\n    btnEnter?.classList.add('sidebar__nav-item_hidden');\n    userNameItem.style.cursor = 'auto';\n    if (userNameItem) userNameItem.style.cursor = 'auto';\n    if (listCabinet) listCabinet.style.display = 'none';\n    if (arrowDown) arrowDown.style.display = 'none';\n    if (userItem) userItem.style.cursor = 'auto';\n  }\n}\n","export function setActiveListItem(targetEl: HTMLElement, navigationList: HTMLUListElement) {\n  const navigationThumb = document.querySelector('.js-cabinet-nav-thumb') as HTMLElement;\n\n  const items = [...navigationList.children];\n  const idx = items.indexOf(targetEl);\n\n  navigationThumb.style.top = `${16.66 * idx}%`;\n\n  items.forEach(item => {\n    item.classList.remove('cabinet__nav-item_active');\n  });\n\n  targetEl.classList.add('cabinet__nav-item_active');\n}\n","import { setActiveListItem } from './local-components/setActiveListItem';\n\nexport function pageCabinet() {\n  const navigationList = document.querySelector('.js-cabinet-nav-list') as HTMLUListElement;\n\n  navigationList?.addEventListener('click', handleNavigationList);\n\n  function handleNavigationList(e: Event) {\n    const targetEl = (e.target as HTMLElement).closest('li');\n\n    if (!targetEl) return;\n\n    // sets-the-active-list-item\n    setActiveListItem(targetEl, navigationList);\n  }\n}\n","export function checkAuth() {\n  const token: string | null = localStorage.getItem('logged');\n\n  if (token === 'false' || token === null) {\n    window.location.href = '404';\n    console.log(token);\n  }\n}\n","import { settingsHtmlComponents } from './utils/settingsHtmlComponents';\nimport { signInOrSignUpHandler } from './pages/sign-in/loginOrRegistrationHandler';\nimport { onStateUserChanged } from './pages/sign-in/cabinet/cabinet';\nimport { header } from './components/header';\nimport { logout } from './pages/sign-in/cabinet/signOut';\nimport { pageCabinet } from './pages/cabinet/pageCabinet';\nimport { checkAuth } from './utils/checkAuth';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  settingsHtmlComponents();\n  header();\n  signInOrSignUpHandler();\n  onStateUserChanged();\n  onStateUserChanged();\n  logout();\n  pageCabinet();\n  checkAuth();\n});\n\n// const cabinetUrl = window.location.pathname;\n"],"names":["settingsHtmlComponents","PAGE_CABINET","listCabinet","btnExit","btnEnter","userNameItem","arrowDown","userItem","setActiveListItem","targetEl","navigationList","navigationThumb","items","idx","item","pageCabinet","handleNavigationList","e","checkAuth","token","header","signInOrSignUpHandler","onStateUserChanged","logout"],"mappings":"wOAEO,SAASA,GAAyB,CAGnC,GAFgB,OAAO,SAAS,SAEpB,SAASC,CAAY,EAAG,CAChC,MAAAC,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAU,SAAS,cAAc,sBAAsB,EACvDC,EAAW,SAAS,cAAc,uBAAuB,EACzDC,EAAe,SAAS,cAAc,uBAAuB,EAC7DC,EAAY,SAAS,cAAc,qBAAqB,EACxDC,EAAW,SAAS,cAAc,oBAAoB,EAGnDJ,GAAA,MAAAA,EAAA,UAAU,OAAO,4BAChBC,GAAA,MAAAA,EAAA,UAAU,IAAI,4BACxBC,EAAa,MAAM,OAAS,OACxBA,IAAcA,EAAa,MAAM,OAAS,QAC1CH,IAAaA,EAAY,MAAM,QAAU,QACzCI,IAAWA,EAAU,MAAM,QAAU,QACrCC,IAAUA,EAAS,MAAM,OAAS,OACxC,CACF,CCtBgB,SAAAC,EAAkBC,EAAuBC,EAAkC,CACnF,MAAAC,EAAkB,SAAS,cAAc,uBAAuB,EAEhEC,EAAQ,CAAC,GAAGF,EAAe,QAAQ,EACnCG,EAAMD,EAAM,QAAQH,CAAQ,EAElCE,EAAgB,MAAM,IAAM,GAAG,MAAQE,CAAG,IAE1CD,EAAM,QAAgBE,GAAA,CACfA,EAAA,UAAU,OAAO,0BAA0B,CAAA,CACjD,EAEQL,EAAA,UAAU,IAAI,0BAA0B,CACnD,CCXO,SAASM,GAAc,CACtB,MAAAL,EAAiB,SAAS,cAAc,sBAAsB,EAEpDA,GAAA,MAAAA,EAAA,iBAAiB,QAASM,GAE1C,SAASA,EAAqBC,EAAU,CACtC,MAAMR,EAAYQ,EAAE,OAAuB,QAAQ,IAAI,EAElDR,GAGLD,EAAkBC,EAAUC,CAAc,CAC5C,CACF,CCfO,SAASQ,GAAY,CACpB,MAAAC,EAAuB,aAAa,QAAQ,QAAQ,GAEtDA,IAAU,SAAWA,IAAU,QACjC,OAAO,SAAS,KAAO,MACvB,QAAQ,IAAIA,CAAK,EAErB,CCCA,SAAS,iBAAiB,mBAAoB,IAAM,CAC3BnB,IAChBoB,IACeC,IACHC,IACAA,IACZC,IACKR,IACFG,GACZ,CAAC"}