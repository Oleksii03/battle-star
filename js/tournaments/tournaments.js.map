{"version":3,"file":"tournaments.js","sources":["../../../src/ts/components/createCalendar.ts","../../../src/ts/pages/tournaments/setDataToFirebase.ts","../../../src/ts/pages/tournaments/getFormData.ts","../../../src/ts/pages/tournaments/handlerTournamentsForm.ts","../../../src/ts/pages/tournaments/tournamentsPageHandler.ts","../../../src/ts/tournaments.ts"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport { Ukrainian } from 'flatpickr/dist/l10n/uk.js';\n\nlet startTournamentDate = '';\nlet endTournamentDate = '';\n\nexport function createCalendar() {\n  flatpickr('#formDatetimeCalendar', {\n    inline: true,\n    dateFormat: 'Y-m-d',\n    mode: 'range',\n    monthSelectorType: 'static',\n    showMonths: 1,\n    locale: {\n      ...Ukrainian,\n      months: {\n        shorthand: [\n          'Січ',\n          'Лют',\n          'Бер',\n          'Кві',\n          'Тра',\n          'Чер',\n          'Лип',\n          'Сер',\n          'Вер',\n          'Жов',\n          'Лис',\n          'Гру',\n        ],\n        longhand: [\n          'Січ',\n          'Лют',\n          'Бер',\n          'Кві',\n          'Тра',\n          'Чер',\n          'Лип',\n          'Сер',\n          'Вер',\n          'Жов',\n          'Лис',\n          'Гру',\n        ],\n      },\n    },\n\n    onChange: function (selectedDates, dateStr, instance) {\n      if (selectedDates.length === 2) {\n        const startDate = selectedDates[0];\n        const endDate = selectedDates[1];\n        const options: any = { year: 'numeric', month: '2-digit', day: '2-digit' };\n        const formatter = new Intl.DateTimeFormat('uk-UA', options);\n        const formattedStartDate = formatter.format(startDate);\n        const formattedEndDate = formatter.format(endDate);\n\n        updateFormDates(formattedStartDate, formattedEndDate);\n      }\n    },\n  });\n}\n\nfunction updateFormDates(startDate: string, endDate: string) {\n  startTournamentDate = startDate;\n  endTournamentDate = endDate;\n}\n\nexport { startTournamentDate, endTournamentDate };\n","import { getFirestore, collection, addDoc } from 'firebase/firestore';\nimport { app } from '@/ts/utils/firebaseConfig';\nimport { handleError } from '@/ts/utils/handleError';\n\nexport async function setDataToFirebase(formObj: any) {\n  const db = getFirestore(app);\n\n  try {\n    const docRef = await addDoc(collection(db, 'tournaments'), formObj);\n    console.log('Документ записано з ID: ', docRef.id);\n  } catch (e) {\n    handleError(e);\n  }\n}\n","import { TournamentsForm } from '@/ts/types/pages/tournaments';\nimport { startTournamentDate, endTournamentDate } from '@/ts/components/createCalendar';\nimport { setDataToFirebase } from './setDataToFirebase';\n\nexport function getFormData() {\n  const form = document.querySelector('.js-tournaments-form');\n\n  form?.addEventListener('submit', handleForm);\n\n  function handleForm(e: Event) {\n    e.preventDefault();\n    const inputs = (e.target as HTMLFormElement).elements;\n\n    const formValues: TournamentsForm = {\n      name: (inputs.namedItem('name') as HTMLInputElement)?.value ?? '',\n      description: (inputs.namedItem('description') as HTMLInputElement)?.value ?? '',\n      'limit-region': 'of',\n      rank: '',\n      rate: '',\n      regime: '',\n      teams: '',\n      time: '',\n      startTournament: startTournamentDate ?? '',\n      endTournament: endTournamentDate ?? '',\n    };\n\n    [...inputs].forEach(input => {\n      if ((input as HTMLInputElement).checked) {\n        formValues[(input as HTMLInputElement).name as keyof TournamentsForm] = (\n          input as HTMLInputElement\n        ).value;\n      }\n    });\n\n    setDataToFirebase(formValues);\n  }\n}\n","import { getFormData } from './getFormData';\n\nexport function handlerTournamentsForm() {\n  getFormData();\n}\n","import { handlerTournamentsForm } from './handlerTournamentsForm';\n\nexport function handlerTournaments() {\n  handlerTournamentsForm();\n}\n","import { header } from './components/header';\nimport { closeDropDownList } from './components/closeDropDownList';\nimport { onStateUserChanged } from './pages/sign-in/cabinet/cabinet';\nimport { logoutThroughSidebar } from './pages/sign-in/cabinet/signOut';\nimport { settingsHtmlComponents } from './utils/settingsHtmlComponents';\nimport { createCalendar } from './components/createCalendar';\nimport { handlerTournaments } from './pages/tournaments/tournamentsPageHandler';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  header();\n  closeDropDownList();\n  onStateUserChanged();\n  logoutThroughSidebar();\n  settingsHtmlComponents();\n  createCalendar();\n  handlerTournaments();\n});\n"],"names":["startTournamentDate","endTournamentDate","createCalendar","flatpickr","Ukrainian","selectedDates","dateStr","instance","startDate","endDate","options","formatter","formattedStartDate","formattedEndDate","updateFormDates","setDataToFirebase","formObj","db","getFirestore","app","docRef","addDoc","collection","handleError","getFormData","form","handleForm","inputs","formValues","_a","_b","input","handlerTournamentsForm","handlerTournaments","header","closeDropDownList","onStateUserChanged","logoutThroughSidebar","settingsHtmlComponents"],"mappings":"kOAIA,IAAIA,EAAsB,GACtBC,EAAoB,GAEjB,SAASC,GAAiB,CAC/BC,EAAU,wBAAyB,CACjC,OAAQ,GACR,WAAY,QACZ,KAAM,QACN,kBAAmB,SACnB,WAAY,EACZ,OAAQ,CACN,GAAGC,EAAA,UACH,OAAQ,CACN,UAAW,CACT,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACF,EACA,SAAU,CACR,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACF,CACF,CACF,EAEA,SAAU,SAAUC,EAAeC,EAASC,EAAU,CAChD,GAAAF,EAAc,SAAW,EAAG,CACxB,MAAAG,EAAYH,EAAc,CAAC,EAC3BI,EAAUJ,EAAc,CAAC,EACzBK,EAAe,CAAE,KAAM,UAAW,MAAO,UAAW,IAAK,WACzDC,EAAY,IAAI,KAAK,eAAe,QAASD,CAAO,EACpDE,EAAqBD,EAAU,OAAOH,CAAS,EAC/CK,EAAmBF,EAAU,OAAOF,CAAO,EAEjDK,EAAgBF,EAAoBC,CAAgB,CACtD,CACF,CAAA,CACD,CACH,CAEA,SAASC,EAAgBN,EAAmBC,EAAiB,CACrCT,EAAAQ,EACFP,EAAAQ,CACtB,CC9DA,eAAsBM,EAAkBC,EAAc,CAC9C,MAAAC,EAAKC,EAAaC,CAAG,EAEvB,GAAA,CACF,MAAMC,EAAS,MAAMC,EAAOC,EAAWL,EAAI,aAAa,EAAGD,CAAO,EAC1D,QAAA,IAAI,2BAA4BI,EAAO,EAAE,QAC1C,EAAG,CACVG,EAAY,CAAC,CACf,CACF,CCTO,SAASC,GAAc,CACtB,MAAAC,EAAO,SAAS,cAAc,sBAAsB,EAEpDA,GAAA,MAAAA,EAAA,iBAAiB,SAAUC,GAEjC,SAASA,EAAW,EAAU,SAC5B,EAAE,eAAe,EACX,MAAAC,EAAU,EAAE,OAA2B,SAEvCC,EAA8B,CAClC,OAAOC,EAAAF,EAAO,UAAU,MAAM,IAAvB,YAAAE,EAA+C,QAAS,GAC/D,cAAcC,EAAAH,EAAO,UAAU,aAAa,IAA9B,YAAAG,EAAsD,QAAS,GAC7E,eAAgB,KAChB,KAAM,GACN,KAAM,GACN,OAAQ,GACR,MAAO,GACP,KAAM,GACN,gBAAiB9B,GAAuB,GACxC,cAAeC,GAAqB,EAAA,EAGtC,CAAC,GAAG0B,CAAM,EAAE,QAAiBI,GAAA,CACtBA,EAA2B,UAClBH,EAAAG,EAA2B,IAA6B,EAClEA,EACA,MACJ,CACD,EAEDhB,EAAkBa,CAAU,CAC9B,CACF,CClCO,SAASI,GAAyB,CAC3BR,GACd,CCFO,SAASS,GAAqB,CACZD,GACzB,CCIA,SAAS,iBAAiB,mBAAoB,IAAM,CAC3CE,IACWC,IACCC,IACEC,IACEC,IACRpC,IACI+B,GACrB,CAAC"}