{"version":3,"file":"signOut-7ANRpM1j.js","sources":["../../src/ts/utils/constants.ts","../../src/ts/utils/firebaseConfig.ts","../../src/ts/pages/sign-in/cabinet/cabinet.ts","../../src/ts/components/header.ts","../../src/ts/utils/returnToThePage.ts","../../src/ts/pages/sign-in/cabinet/signOut.ts"],"sourcesContent":["// ===PAGES ===\nconst PAGE_MAIN = 'index';\nconst PAGE_CABINET = 'cabinet';\n\n// ===PAGE MAIN==============\n// ---leaderboard---\nconst TOP_LIST_CSGO: string = 'mainPageListTop';\nconst TOP_LIST_DOTA: string = 'mainPageListTopDota';\nconst LEADERBOARD_CARDS: string = 'mainPageLeaderboardCards';\n// PopularMatches\nconst MATCHES_CARDS_LIST = 'mainPagePopularMatchesCardsList';\nconst POPULAR_MATCHES = 'mainPagePopularMatches';\n\nexport {\n  PAGE_MAIN,\n  PAGE_CABINET,\n  TOP_LIST_CSGO,\n  TOP_LIST_DOTA,\n  LEADERBOARD_CARDS,\n  MATCHES_CARDS_LIST,\n  POPULAR_MATCHES,\n};\n","import { initializeApp } from 'firebase/app';\nimport { getAuth } from 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyAd5LeDQLc4i5UEZgy049Nmu5687cFRTFU',\n  authDomain: 'battlestar-514be.firebaseapp.com',\n  projectId: 'battlestar-514be',\n  storageBucket: 'battlestar-514be.appspot.com',\n  messagingSenderId: '1041425711014',\n  appId: '1:1041425711014:web:b36feae118870e4d2c5967',\n};\n\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\n\nexport { app, auth };\n","import { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from '../../../utils/firebaseConfig';\n\nexport function onStateUserChanged(): void {\n  // const userA = document.querySelector('.js-user');\n  const activeUser = document.querySelector('.js-user-active-title');\n  const itemCabinet = document.querySelector('.js-item-cabinet');\n  const btnEnter = document.querySelector('.js-sidebar-btn-enter');\n  const btnExid = document.querySelector('.js-sidebar-btn-exit');\n  // ---local refs --------------------------------\n  onAuthStateChanged(auth, user => {\n    // console.log(!!user);\n\n    if (user) {\n      itemCabinet?.classList.add('header__user-inner-item_active');\n      btnEnter?.classList.add('sidebar__nav-item_disabled');\n      btnExid?.classList.remove('sidebar__nav-item_hidden');\n\n      // Отримання інформації про користувача\n      // const uid = user.uid;\n      // const email = user.email;\n\n      const displayName = user.displayName;\n      // const displayName = 'Sergio Richterf';\n\n      // console.log('User ID:', uid);\n      // console.log('User Email:', email);\n      // console.log('User Display Name:', displayName);\n\n      if (activeUser) {\n        if (displayName && displayName.length > 14) {\n          activeUser.textContent = displayName.slice(0, 14) + '...';\n          return;\n        }\n        activeUser.textContent = displayName;\n      }\n      return;\n    }\n\n    // console.log('No user is signed in.');\n    itemCabinet?.classList.remove('header__user-inner-item_active');\n    btnEnter?.classList.remove('sidebar__nav-item_disabled');\n    btnExid?.classList.add('sidebar__nav-item_hidden');\n  });\n}\n","export const userInnerList = document.querySelector('.js-user-inner-list');\nexport const gameInnerList = document.querySelector('.js-game-dropdown-item-inner-list');\n// ---reusable-refs------------\nexport function header() {\n  const sergioBox = document.querySelector('.js-user-item-box');\n  // const activeUser = document.querySelector('.js-user-active-title');\n  const gameDropdownBox = document.querySelector('.js-game-dropdown-box');\n  const gameDropdownActiveTitle = document.querySelector('.js-game-dropdown-active-title');\n  // ----local-refs------------------\n\n  // ===handlerSergioList======\n  sergioBox?.addEventListener('click', toggleSergioList);\n\n  function toggleSergioList() {\n    userInnerList?.classList.toggle('header__user-inner-list_open');\n  }\n\n  // ---userInnerList---\n  // userInnerList?.addEventListener('click', getTextContentFromuserList);\n\n  // function getTextContentFromuserList(e: Event): void {\n  //   const targetEL = e.target as HTMLElement;\n  //   if (activeUser && targetEL) {\n  //     activeUser.textContent = targetEL.textContent;\n  //   }\n  //   toggleuserList();\n  // }\n\n  // ===handlerGameList======\n  gameDropdownBox?.addEventListener('click', toggleGameList);\n\n  function toggleGameList(): void {\n    gameInnerList?.classList.toggle('game-dropdown-item__inner-list_open');\n  }\n\n  // gameInnerList\n  gameInnerList?.addEventListener('click', getTextContentFromGameList);\n\n  function getTextContentFromGameList(e: Event): void {\n    const targetEL = e.target as HTMLElement;\n    if (gameDropdownActiveTitle) {\n      gameDropdownActiveTitle.textContent = targetEL.textContent;\n    }\n    toggleGameList();\n  }\n}\n","import { PAGE_MAIN, PAGE_CABINET } from './constants';\n\nexport function returnToThePage(currentPage: string): string | undefined {\n  if (currentPage.includes(PAGE_MAIN)) {\n    console.log('index');\n    return '/index.html';\n  }\n\n  if (currentPage.includes(PAGE_CABINET)) {\n    console.log('cabinet');\n    return '/index.html';\n  }\n\n  console.log('no index');\n}\n","import { signOut } from 'firebase/auth';\nimport { auth } from '@/ts/utils/firebaseConfig';\nimport { returnToThePage } from '@/ts/utils/returnToThePage';\n\nexport function logout() {\n  const logoutBtn = document.querySelector('.js-sidebar-btn-exit');\n\n  if (logoutBtn) {\n    logoutBtn.addEventListener('click', () => {\n      const currentPage = window.location.pathname;\n\n      signOut(auth)\n        .then(() => {\n          const page = returnToThePage(currentPage);\n          if (typeof page === 'string') {\n            window.location.href = page;\n          }\n        })\n        .catch(error => {\n          console.error('Error signing out:', error);\n        });\n    });\n  }\n}\n"],"names":["PAGE_MAIN","PAGE_CABINET","TOP_LIST_CSGO","TOP_LIST_DOTA","LEADERBOARD_CARDS","MATCHES_CARDS_LIST","POPULAR_MATCHES","firebaseConfig","app","initializeApp","auth","getAuth","onStateUserChanged","activeUser","itemCabinet","btnEnter","btnExid","onAuthStateChanged","user","displayName","userInnerList","gameInnerList","header","sergioBox","gameDropdownBox","gameDropdownActiveTitle","toggleSergioList","toggleGameList","getTextContentFromGameList","e","targetEL","returnToThePage","currentPage","logout","logoutBtn","signOut","page","error"],"mappings":"owBACA,MAAMA,EAAY,QACZC,EAAe,UAIfC,EAAwB,kBACxBC,EAAwB,sBACxBC,EAA4B,2BAE5BC,EAAqB,kCACrBC,EAAkB,yBCRlBC,EAAiB,CACrB,OAAQ,0CACR,WAAY,mCACZ,UAAW,mBACX,cAAe,+BACf,kBAAmB,gBACnB,MAAO,4CACT,EAEMC,EAAMC,EAAcF,CAAc,EAClCG,EAAOC,EAAQH,CAAG,ECVjB,SAASI,GAA2B,CAEnC,MAAAC,EAAa,SAAS,cAAc,uBAAuB,EAC3DC,EAAc,SAAS,cAAc,kBAAkB,EACvDC,EAAW,SAAS,cAAc,uBAAuB,EACzDC,EAAU,SAAS,cAAc,sBAAsB,EAE7DC,EAAmBP,EAAcQ,GAAA,CAG/B,GAAIA,EAAM,CACKJ,GAAA,MAAAA,EAAA,UAAU,IAAI,kCACjBC,GAAA,MAAAA,EAAA,UAAU,IAAI,8BACfC,GAAA,MAAAA,EAAA,UAAU,OAAO,4BAM1B,MAAMG,EAAcD,EAAK,YAOzB,GAAIL,EAAY,CACV,GAAAM,GAAeA,EAAY,OAAS,GAAI,CAC1CN,EAAW,YAAcM,EAAY,MAAM,EAAG,EAAE,EAAI,MACpD,MACF,CACAN,EAAW,YAAcM,CAC3B,CACA,MACF,CAGaL,GAAA,MAAAA,EAAA,UAAU,OAAO,kCACpBC,GAAA,MAAAA,EAAA,UAAU,OAAO,8BAClBC,GAAA,MAAAA,EAAA,UAAU,IAAI,2BAA0B,CAClD,CACH,CC5Ca,MAAAI,EAAgB,SAAS,cAAc,qBAAqB,EAC5DC,EAAgB,SAAS,cAAc,mCAAmC,EAEhF,SAASC,GAAS,CACjB,MAAAC,EAAY,SAAS,cAAc,mBAAmB,EAEtDC,EAAkB,SAAS,cAAc,uBAAuB,EAChEC,EAA0B,SAAS,cAAc,gCAAgC,EAI5EF,GAAA,MAAAA,EAAA,iBAAiB,QAASG,GAErC,SAASA,GAAmB,CACXN,GAAA,MAAAA,EAAA,UAAU,OAAO,+BAClC,CAciBI,GAAA,MAAAA,EAAA,iBAAiB,QAASG,GAE3C,SAASA,GAAuB,CACfN,GAAA,MAAAA,EAAA,UAAU,OAAO,sCAClC,CAGeA,GAAA,MAAAA,EAAA,iBAAiB,QAASO,GAEzC,SAASA,EAA2BC,EAAgB,CAClD,MAAMC,EAAWD,EAAE,OACfJ,IACFA,EAAwB,YAAcK,EAAS,aAElCH,GACjB,CACF,CC3CO,SAASI,EAAgBC,EAAyC,CACnE,GAAAA,EAAY,SAAShC,CAAS,EAChC,eAAQ,IAAI,OAAO,EACZ,cAGL,GAAAgC,EAAY,SAAS/B,CAAY,EACnC,eAAQ,IAAI,SAAS,EACd,cAGT,QAAQ,IAAI,UAAU,CACxB,CCVO,SAASgC,GAAS,CACjB,MAAAC,EAAY,SAAS,cAAc,sBAAsB,EAE3DA,GACQA,EAAA,iBAAiB,QAAS,IAAM,CAClC,MAAAF,EAAc,OAAO,SAAS,SAE5BG,EAAAzB,CAAI,EACT,KAAK,IAAM,CACJ,MAAA0B,EAAOL,EAAgBC,CAAW,EACpC,OAAOI,GAAS,WAClB,OAAO,SAAS,KAAOA,EACzB,CACD,EACA,MAAeC,GAAA,CACN,QAAA,MAAM,qBAAsBA,CAAK,CAAA,CAC1C,CAAA,CACJ,CAEL"}