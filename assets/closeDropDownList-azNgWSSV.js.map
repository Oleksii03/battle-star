{"version":3,"file":"closeDropDownList-azNgWSSV.js","sources":["../../src/ts/utils/constants.ts","../../src/ts/utils/settingsHtmlComponents.ts","../../src/ts/components/header.ts","../../src/ts/utils/returnToThePage.ts","../../src/ts/pages/sign-in/cabinet/signOut.ts","../../src/ts/components/closeDropDownList.ts"],"sourcesContent":["// ===PAGES ===\nconst PAGE_MAIN = '/';\nconst PAGE_CABINET = 'cabinet';\nconst PAGE_TOURNAMENTS = 'tournaments';\n\n// ===PAGE MAIN==============\n// ---leaderboard---\nconst TOP_LIST_CSGO: string = 'mainPageListTop';\nconst TOP_LIST_DOTA: string = 'mainPageListTopDota';\nconst LEADERBOARD_CARDS: string = 'mainPageLeaderboardCards';\n// PopularMatches\nconst MATCHES_CARDS_LIST: string = 'mainPagePopularMatchesCardsList';\nconst POPULAR_MATCHES: string = 'mainPagePopularMatches';\n\n// ===PAGE CABINET==============\nconst HISTORY_MATCHES_LIST: string = 'cabinetHistoryMatches';\nconst HISTORY_TRANSACTIONS_LIST: string = 'cabinetHistoryTransactions';\nconst BLOCK_LIST: string = 'cabinetBlockList';\n\nexport {\n  PAGE_MAIN,\n  PAGE_CABINET,\n  PAGE_TOURNAMENTS,\n  TOP_LIST_CSGO,\n  TOP_LIST_DOTA,\n  LEADERBOARD_CARDS,\n  MATCHES_CARDS_LIST,\n  POPULAR_MATCHES,\n  HISTORY_MATCHES_LIST,\n  HISTORY_TRANSACTIONS_LIST,\n  BLOCK_LIST,\n};\n","import { PAGE_CABINET, PAGE_MAIN, PAGE_TOURNAMENTS } from './constants';\n\nexport function settingsHtmlComponents() {\n  const sidebarLinkList = document.querySelectorAll('.sidebar__nav-link');\n  // reuse-refs---\n  const currentPath = window.location.pathname;\n\n  // PAGE_CABINET===================\n  if (currentPath.includes(PAGE_CABINET)) {\n    const listCabinet = document.querySelector('.js-user-inner-list') as HTMLUListElement;\n    const btnExit = document.querySelector('.js-sidebar-btn-exit');\n    const btnEnter = document.querySelector('.js-sidebar-btn-enter');\n    const userNameItem = document.querySelector('.js-user-active-title') as HTMLElement;\n    const arrowDown = document.querySelector('.js-icon-arrow-down') as HTMLElement;\n    const userItem = document.querySelector('.header__user-item') as HTMLElement;\n    // local-refs---\n\n    btnExit?.classList.remove('sidebar__nav-item_hidden');\n    btnEnter?.classList.add('sidebar__nav-item_hidden');\n    userNameItem.style.cursor = 'auto';\n    if (userNameItem) userNameItem.style.cursor = 'auto';\n    if (listCabinet) listCabinet.style.display = 'none';\n    if (arrowDown) arrowDown.style.display = 'none';\n    if (userItem) userItem.style.cursor = 'auto';\n\n    if (sidebarLinkList) {\n      sidebarLinkList.forEach(item => {\n        item.classList.remove('sidebar__nav-link_active');\n      });\n    }\n    return;\n  }\n\n  // PAGE_TOURNAMENTS================\n  if (currentPath.includes(PAGE_TOURNAMENTS)) {\n    [...sidebarLinkList].forEach(item => {\n      if (item.classList.contains('js-sidebar-nav-tournaments')) {\n        item.classList.add('sidebar__nav-link_active');\n      } else {\n        item.classList.remove('sidebar__nav-link_active');\n      }\n    });\n    return;\n  }\n\n  // PAGE_MAIN=======================\n  if (currentPath.includes(PAGE_MAIN)) {\n    [...sidebarLinkList].forEach(item => {\n      if (item.classList.contains('js-sidebar-nav-main')) {\n        item.classList.add('sidebar__nav-link_active');\n      } else {\n        item.classList.remove('sidebar__nav-link_active');\n      }\n    });\n  }\n}\n","export const userInnerList = document.querySelector('.js-user-inner-list');\nexport const gameInnerList = document.querySelector('.js-game-dropdown-item-inner-list');\nexport const iconArrowDown = document.querySelector('.js-icon-arrow-down');\nexport const gameDropdownIcon = document.querySelector('.js-game-dropdown-icon');\n// --/-reusable-refs------------\n\nexport function header() {\n  const sergioBox = document.querySelector('.js-user-item-box');\n  const gameDropdownBox = document.querySelector('.js-game-dropdown-box');\n  const gameDropdownActiveTitle = document.querySelector('.js-game-dropdown-active-title');\n  // ---/-local-refs------------------\n\n  // ===handlerSergioList======\n  sergioBox?.addEventListener('click', toggleUserList);\n\n  function toggleUserList() {\n    userInnerList?.classList.toggle('header__user-inner-list_open');\n    iconArrowDown?.classList.toggle('header__user-item-icon_rotate');\n  }\n\n  // ===handlerGameList======\n  gameDropdownBox?.addEventListener('click', toggleGameList);\n\n  function toggleGameList(): void {\n    gameInnerList?.classList.toggle('game-dropdown-item__inner-list_open');\n    gameDropdownIcon?.classList.toggle('game-dropdown-item__icon_active');\n  }\n\n  // gameInnerList\n  gameInnerList?.addEventListener('click', getTextContentFromGameList);\n\n  function getTextContentFromGameList(e: Event): void {\n    const targetEL = e.target as HTMLElement;\n    if (gameDropdownActiveTitle) {\n      gameDropdownActiveTitle.textContent = targetEL.textContent;\n    }\n    toggleGameList();\n  }\n}\n","import { PAGE_MAIN, PAGE_CABINET } from './constants';\n\nexport function returnToThePage(currentPage: string): string | undefined {\n  if (currentPage.includes(PAGE_MAIN)) {\n    console.log('index');\n    return './';\n  }\n\n  if (currentPage.includes(PAGE_CABINET)) {\n    console.log('cabinet');\n    return './';\n  }\n}\n","import { signOut } from 'firebase/auth';\nimport { auth } from '@/ts/utils/firebaseConfig';\nimport { returnToThePage } from '@/ts/utils/returnToThePage';\nimport { handleError } from '@/ts/utils/handleError';\n\nexport function logoutThroughSidebar() {\n  const logoutBtn = document.querySelector('.js-sidebar-btn-exit');\n\n  if (logoutBtn) {\n    logoutBtn.addEventListener('click', () => {\n      logout();\n    });\n  }\n}\n\nexport function logout() {\n  const currentPage = window.location.pathname;\n\n  signOut(auth)\n    .then(() => {\n      const page = returnToThePage(currentPage);\n      if (typeof page === 'string') {\n        window.location.href = page;\n        localStorage.setItem('logged', 'false');\n      }\n    })\n    .catch(handleError);\n}\n","import { userInnerList, gameInnerList, iconArrowDown, gameDropdownIcon } from './header';\n\nexport function closeDropDownList(): void {\n  document.addEventListener('click', (e: Event) => {\n    // userList\n    handlerUserList(e);\n    // gameList\n    handlerGameDropdownList(e);\n    // cabinetHistoryDropdownList\n    cabinetHistoryDropdownList(e);\n    // handlerCabinetLanguage\n    handlerLanguageList(e);\n    // handlerCabinetTitleBox\n    handlerCabinetTitleBox(e);\n    // closeDeleteButtonsCabinet\n    closeDeleteButtonsCabinet(e);\n  });\n\n  // ===function-handlers====\n  function closeDeleteButtonsCabinet(e: Event) {\n    const btnsRemove = document.querySelectorAll('.js-item-btn-remove');\n    const targetEl = (e.target as HTMLElement).closest('.js-item-btn-remove');\n    const parentTargetEl = (e.target as HTMLElement).closest('.js-btn-dots');\n\n    if (!targetEl && !parentTargetEl) {\n      btnsRemove.forEach(btn => btn.classList.remove('cabinet-block__item-btn-remove_active'));\n    }\n  }\n\n  function handlerCabinetTitleBox(e: Event) {\n    const titleBox = document.querySelector('.js-region-item-title-box');\n    const regionList = document.querySelector('.js-region-inner-list');\n    // --refs----\n    const targetEl = (e.target as HTMLElement).closest('.js-region-item-title-box');\n    const parentTargetEl = (e.target as HTMLElement).closest('.js-region-inner-list');\n\n    const isRegionDropdownListOpen =\n      !targetEl?.classList.contains('js-region-item-title-box') &&\n      !parentTargetEl?.classList.contains('js-region-inner-list');\n\n    if (isRegionDropdownListOpen) {\n      regionList?.classList.remove('cabinet-settings__region-inner-list_active');\n      titleBox?.classList.remove('cabinet-settings__region-item-title-box_active');\n    }\n  }\n\n  function handlerLanguageList(e: Event) {\n    const titleBox = document.querySelector('.js-language-item-title-box');\n    const languageInnerList = document.querySelector('.js-language-inner-list');\n    // --refs----\n    const targetEl = (e.target as HTMLElement).closest('.js-language-item-title-box');\n    const parentTargetEl = (e.target as HTMLElement).closest('.js-language-inner-list');\n\n    const isLanguageDropdownListOpen =\n      !targetEl?.classList.contains('js-language-item-title-box') &&\n      !parentTargetEl?.classList.contains('js-language-inner-list');\n\n    if (isLanguageDropdownListOpen) {\n      languageInnerList?.classList.remove('cabinet-settings__language-inner-list_active');\n      titleBox?.classList.remove('cabinet-settings__language-item-title-box_active');\n    }\n  }\n\n  function handlerUserList(e: Event): void {\n    const targetEl = (e.target as HTMLElement).closest('.header__user-inner-item');\n    const parentTargetEl = (e.target as HTMLElement).closest('.header__user-item-box');\n    // --refs----\n\n    // handlers\n    const isuserListOpen =\n      !targetEl?.classList.contains('header__user-inner-item') &&\n      !parentTargetEl?.classList.contains('header__user-item-box');\n\n    if (isuserListOpen) {\n      userInnerList?.classList.remove('header__user-inner-list_open');\n      iconArrowDown?.classList.remove('header__user-item-icon_rotate');\n    }\n  }\n\n  // gameDropdownList\n  function handlerGameDropdownList(e: Event): void {\n    const targetEl = (e.target as HTMLElement).closest('.game-dropdown-item__inner-item');\n    const parentTargetEl = (e.target as HTMLElement).closest('.js-game-dropdown-box');\n    // --refs----\n\n    const isGameDropdownListOpen =\n      !targetEl?.classList.contains('game-dropdown-item__inner-item') &&\n      !parentTargetEl?.classList.contains('js-game-dropdown-box');\n\n    if (isGameDropdownListOpen) {\n      gameInnerList?.classList.remove('game-dropdown-item__inner-list_open');\n      gameDropdownIcon?.classList.remove('game-dropdown-item__icon_active');\n    }\n  }\n\n  // cabinetHistoryDropdownList\n  function cabinetHistoryDropdownList(e: Event) {\n    const targetEl = e.target as HTMLElement;\n    const parentTargetEl = (e.target as HTMLElement).closest('.js-drop-down-item-title-box');\n\n    const isCabinetHistoryDropdownListOpen =\n      !targetEl?.classList.contains('cabinet-history__drop-down-inner-item-text') &&\n      !parentTargetEl?.classList.contains('js-drop-down-item-title-box');\n\n    if (isCabinetHistoryDropdownListOpen) {\n      document\n        .querySelector('.js-drop-down-inner-list')\n        ?.classList.remove('cabinet-history__drop-down-inner-list_active');\n      document\n        .querySelector('.js-drop-down-icon')\n        ?.classList.remove('cabinet-history__drop-down-item-icon_active');\n    }\n  }\n}\n"],"names":["PAGE_MAIN","PAGE_CABINET","PAGE_TOURNAMENTS","TOP_LIST_CSGO","TOP_LIST_DOTA","LEADERBOARD_CARDS","MATCHES_CARDS_LIST","POPULAR_MATCHES","HISTORY_MATCHES_LIST","HISTORY_TRANSACTIONS_LIST","BLOCK_LIST","settingsHtmlComponents","sidebarLinkList","currentPath","listCabinet","btnExit","btnEnter","userNameItem","arrowDown","userItem","item","userInnerList","gameInnerList","iconArrowDown","gameDropdownIcon","header","sergioBox","gameDropdownBox","gameDropdownActiveTitle","toggleUserList","toggleGameList","getTextContentFromGameList","targetEL","returnToThePage","currentPage","logoutThroughSidebar","logoutBtn","logout","signOut","auth","page","handleError","closeDropDownList","handlerUserList","handlerGameDropdownList","cabinetHistoryDropdownList","handlerLanguageList","handlerCabinetTitleBox","closeDeleteButtonsCabinet","btnsRemove","targetEl","parentTargetEl","btn","titleBox","regionList","languageInnerList","_a","_b"],"mappings":"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"}