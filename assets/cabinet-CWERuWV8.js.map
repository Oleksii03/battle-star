{"version":3,"file":"cabinet-CWERuWV8.js","sources":["../../src/ts/utils/firebaseConfig.ts","../../src/ts/types/base/lib/lib.ts","../../src/ts/utils/handleError.ts","../../src/ts/pages/sign-in/cabinet/cabinet.ts"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getAuth } from 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyAd5LeDQLc4i5UEZgy049Nmu5687cFRTFU',\n  authDomain: 'battlestar-514be.firebaseapp.com',\n  projectId: 'battlestar-514be',\n  storageBucket: 'battlestar-514be.appspot.com',\n  messagingSenderId: '1041425711014',\n  appId: '1:1041425711014:web:b36feae118870e4d2c5967',\n};\n\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\n\nexport { app, auth };\n","interface ToastrOptions {\n  positionClass: string;\n  closeButton: boolean;\n  progressBar: boolean;\n  timeOut: number;\n  extendedTimeOut: number;\n  preventDuplicates: boolean;\n}\n\nexport const toastrOptions: ToastrOptions = {\n  positionClass: 'toast-top-right',\n  closeButton: true,\n  progressBar: true,\n  timeOut: 5000,\n  extendedTimeOut: 1000,\n  preventDuplicates: true,\n};\n","import toastr from 'toastr';\nimport 'toastr/build/toastr.min.css';\nimport { toastrOptions } from '../types/base/lib/lib';\n\ntoastr.options = toastrOptions;\n\nexport function handleError(error: unknown): void {\n  if (error instanceof Error) {\n    console.log('Виникла помилка:', error.message);\n  } else {\n    console.log('Виникла невідома помилка:', error);\n  }\n\n  toastr.error('Щось пішло не так. Спробуйте ще раз.');\n}\n","import { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from '../../../utils/firebaseConfig';\n\nexport function onStateUserChanged(): void {\n  const activeUser = document.querySelector('.js-user-active-title');\n  const itemCabinet = document.querySelector('.js-item-cabinet');\n  const btnEnter = document.querySelector('.js-sidebar-btn-enter');\n  const btnExid = document.querySelector('.js-sidebar-btn-exit');\n  const pageError = document.querySelector('.js-page-error');\n  const cabinet = document.querySelector('.js-cabinet');\n  // ---local refs --------------------------------\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      itemCabinet?.classList.add('header__user-inner-item_active');\n      btnEnter?.classList.add('sidebar__nav-item_disabled');\n      btnExid?.classList.remove('sidebar__nav-item_hidden');\n      cabinet?.classList.add('cabinet_visible');\n\n      // Отримання інформації про користувача\n      // const uid = user.uid;\n      // const email = user.email;\n      // document.body.classList.remove('to-freeze');\n\n      const displayName = user.displayName;\n      // const displayName = 'Sergio Richterf';\n\n      // console.log('User ID:', uid);\n      // console.log('User Email:', email);\n      // console.log('User Display Name:', displayName);\n\n      if (activeUser) {\n        if (displayName && displayName.length > 14) {\n          activeUser.textContent = displayName.slice(0, 14) + '...';\n          return;\n        }\n        activeUser.textContent = displayName;\n      }\n      return;\n    }\n\n    // if (!user) {\n    //   window.location.href = '/';\n    //   return;\n    // }\n    // console.log('No user is signed in.');\n    itemCabinet?.classList.remove('header__user-inner-item_active');\n    btnEnter?.classList.remove('sidebar__nav-item_disabled');\n    btnExid?.classList.add('sidebar__nav-item_hidden');\n    pageError?.classList.remove('page-error_hidden');\n    cabinet?.classList.remove('cabinet_visible');\n\n    if (activeUser) activeUser.textContent = 'User';\n  });\n}\n"],"names":["firebaseConfig","app","initializeApp","auth","getAuth","toastrOptions","toastr","handleError","error","onStateUserChanged","activeUser","itemCabinet","btnEnter","btnExid","pageError","cabinet","onAuthStateChanged","user","displayName"],"mappings":"owBAGA,MAAMA,EAAiB,CACrB,OAAQ,0CACR,WAAY,mCACZ,UAAW,mBACX,cAAe,+BACf,kBAAmB,gBACnB,MAAO,4CACT,EAEMC,EAAMC,EAAcF,CAAc,EAClCG,EAAOC,EAAQH,CAAG,ECJXI,EAA+B,CAC1C,cAAe,kBACf,YAAa,GACb,YAAa,GACb,QAAS,IACT,gBAAiB,IACjB,kBAAmB,EACrB,ECZAC,EAAO,QAAUD,EAEV,SAASE,EAAYC,EAAsB,CAC5CA,aAAiB,MACX,QAAA,IAAI,mBAAoBA,EAAM,OAAO,EAErC,QAAA,IAAI,4BAA6BA,CAAK,EAGhDF,EAAO,MAAM,sCAAsC,CACrD,CCXO,SAASG,GAA2B,CACnC,MAAAC,EAAa,SAAS,cAAc,uBAAuB,EAC3DC,EAAc,SAAS,cAAc,kBAAkB,EACvDC,EAAW,SAAS,cAAc,uBAAuB,EACzDC,EAAU,SAAS,cAAc,sBAAsB,EACvDC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAU,SAAS,cAAc,aAAa,EAEpDC,EAAmBb,EAAcc,GAAA,CAC/B,GAAIA,EAAM,CACKN,GAAA,MAAAA,EAAA,UAAU,IAAI,kCACjBC,GAAA,MAAAA,EAAA,UAAU,IAAI,8BACfC,GAAA,MAAAA,EAAA,UAAU,OAAO,4BACjBE,GAAA,MAAAA,EAAA,UAAU,IAAI,mBAOvB,MAAMG,EAAcD,EAAK,YAOzB,GAAIP,EAAY,CACV,GAAAQ,GAAeA,EAAY,OAAS,GAAI,CAC1CR,EAAW,YAAcQ,EAAY,MAAM,EAAG,EAAE,EAAI,MACpD,MACF,CACAR,EAAW,YAAcQ,CAC3B,CACA,MACF,CAOaP,GAAA,MAAAA,EAAA,UAAU,OAAO,kCACpBC,GAAA,MAAAA,EAAA,UAAU,OAAO,8BAClBC,GAAA,MAAAA,EAAA,UAAU,IAAI,4BACZC,GAAA,MAAAA,EAAA,UAAU,OAAO,qBACnBC,GAAA,MAAAA,EAAA,UAAU,OAAO,mBAEtBL,IAAYA,EAAW,YAAc,OAAA,CAC1C,CACH"}